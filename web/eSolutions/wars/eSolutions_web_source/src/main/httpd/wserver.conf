# Config file for esolutions

PidFile                             logs/esolutions/httpd.pid
ServerName                          esolutions.caspersbox.corp
ServerSignature                     On
ServerTokens                        Prod
UseCanonicalName                    On
HostnameLookups                     Double
ContentDigest                       On
FileETag                            MTime Size
DocumentRoot                        "/appvol/AWS22/eSolutions/webcontent"

Include                             conf/esolutions/tomcat-config.conf

<Directory />
    Options                         +FollowSymLinks -SymLinksIfOwnerMatch -ExecCGI -Indexes
    AllowOverride                   none
    Require                         all granted
    AddOutputFilter                 Includes html
    AddHandler                      type-map var
    LanguagePriority                en cs de es fr it ja ko nl pl pt-br ro sv tr
    ForceLanguagePriority           Prefer Fallback
</Directory>

<Directory /esolutions/>
    Options                         +FollowSymLinks -SymLinksIfOwnerMatch -ExecCGI -Indexes
    AllowOverride                   none
    Require                         all granted
    AddOutputFilter                 Includes html
    AddHandler                      type-map var
    LanguagePriority                en cs de es fr it ja ko nl pl pt-br ro sv tr
    ForceLanguagePriority           Prefer Fallback
</Directory>

<Directory /html/esolutions/>
    Options                         +FollowSymLinks -SymLinksIfOwnerMatch -ExecCGI -Indexes
    AllowOverride                   none
    Require                         all granted
    AddOutputFilter                 Includes html
    AddHandler                      type-map var
    LanguagePriority                en cs de es fr it ja ko nl pl pt-br ro sv tr
    ForceLanguagePriority           Prefer Fallback
</Directory>

<Directory /error/esolutions/>
    Options                         +FollowSymLinks -SymLinksIfOwnerMatch -ExecCGI -Indexes
    AllowOverride                   none
    Require                         all granted
    AddOutputFilter                 Includes html
    AddHandler                      type-map var
    LanguagePriority                en cs de es fr it ja ko nl pl pt-br ro sv tr
    ForceLanguagePriority           Prefer Fallback
</Directory>

<Location "/esolutions/WEB-INF/*">
    Require                         all denied
</Location>

<Location "/esolutions/META-INF/*">
    Require                         all denied
</Location>

<IfModule headers_module>
    Header                          add S caspersb-f14b1
</IfModule>

ErrorDocument                       400 /error/esolutions/errHandler.htm
ErrorDocument                       401 /error/esolutions/errHandler.htm
ErrorDocument                       403 /error/esolutions/errHandler.htm
ErrorDocument                       404 /error/esolutions/errHandler.htm
ErrorDocument                       405 /error/esolutions/errHandler.htm
ErrorDocument                       500 /error/esolutions/errHandler.htm
ErrorDocument                       503 /error/esolutions/errHandler.htm

Listen                              127.0.0.1:10981
<VirtualHost 127.0.0.1:10981>
    RewriteOptions                  inherit

    Include                         conf/esolutions/redirects.conf
    Include                         conf/esolutions/security.conf

    LogLevel                        error
    ErrorLog                        "|bin/rotatelogs logs/esolutions/error-%Y.%m.%d.log 86400"
    CustomLog                       "|bin/rotatelogs logs/esolutions/access-%Y.%m.%d.log 86400" p14
</VirtualHost>

Listen                              127.0.0.1:10944
<VirtualHost 127.0.0.1:10944>
    SSLEngine                       on
    SSLCertificateFile              ssl.d/crt/esolutions.crt
    SSLCertificateKeyFile           ssl.d/key/esolutions.key

    RewriteOptions                  inherit

    Include                         conf/esolutions/redirects.conf
    Include                         conf/esolutions/security.conf

    LogLevel                        error
    ErrorLog                        "|bin/rotatelogs logs/esolutions/error.secure-%Y.%m.%d.log 86400"
    CustomLog                       "|bin/rotatelogs logs/esolutions/access.secure-%Y.%m.%d.log 86400" p14
</VirtualHost>
